<!DOCTYPE html>
<html lang="en">
<head>
  <title>GSOC: NASA's Data Curtains from Space</title>
  <script src="../ThirdParty/Cesium-1.11/Cesium.js"></script>
  <style>
      @import url(../ThirdParty/Cesium-1.11/Widgets/widgets.css);
      html, body, #cesiumContainer {
          width: 100%; height: 100%; margin: 0; padding: 0; overflow: hidden;
      }
  </style>
</head>
<body>
  <div id="cesiumContainer"></div>
  <script>
    var viewer = new Cesium.Viewer('cesiumContainer');

var scene = viewer.scene;
var handler;


    var ellipsoid = scene.globe.ellipsoid;
    var entity = viewer.entities.add({
        label : {
            show : false
        }
    });

    // Mouse over the globe to see the cartographic position
    handler = new Cesium.ScreenSpaceEventHandler(scene.canvas);
    handler.setInputAction(function(movement) {
        var cartesian = viewer.camera.pickEllipsoid(movement.endPosition, ellipsoid);
        if (cartesian) {
            var cartographic = ellipsoid.cartesianToCartographic(cartesian);
            var longitudeString = Cesium.Math.toDegrees(cartographic.longitude).toFixed(2);
            var latitudeString = Cesium.Math.toDegrees(cartographic.latitude).toFixed(2);

            entity.position = cartesian;
            entity.label.show = true;
            entity.label.text = '(' + longitudeString + ', ' + latitudeString + ')';
        } else {
            entity.label.show = false;
        }
    }, Cesium.ScreenSpaceEventType.MOUSE_MOVE);



/*
* Actual Image: https://raw.githubusercontent.com/abhishekvp/data-curtains/gh-pages/data/imagery/2015-01-02/test_2_3.png
*
*/
var coords = [        -164.55555725097656, 
        2.952378511428833, 
        -164.61929321289062, 
        3.251883029937744, 
        -164.6833953857422, 
        3.5517263412475586, 
        -164.7471923828125, 
        3.851987838745117, 
        -164.81124877929688, 
        4.151716232299805, 
        -164.8753662109375, 
        4.452389717102051, 
        -164.93946838378906, 
        4.752037048339844, 
        -165.0033721923828, 
        5.05083703994751, 
        -165.0674285888672, 
        5.350384712219238, 
        -165.1315155029297, 
        5.650108337402344, 
        -165.1959228515625, 
        5.950155258178711, 
        -165.26010131835938, 
        6.250260829925537, 
        -165.32464599609375, 
        6.5509514808654785, 
        -165.3890838623047, 
        6.8501081466674805, 
        -165.45303344726562, 
        7.148969650268555, 
        -165.51759338378906, 
        7.448916912078857, 
        -165.58206176757812, 
        7.748415470123291, 
        -165.64662170410156, 
        8.048423767089844, 
        -165.71176147460938, 
        8.349093437194824, 
        -165.77630615234375, 
        8.64874267578125, 
        -165.84085083007812, 
        8.9476900100708, 
        -165.9059295654297, 
        9.247179985046387, 
        -165.9705810546875, 
        9.546686172485352, 
        -166.03579711914062, 
        9.846848487854004, 
        -166.1008758544922, 
        10.146710395812988, 
        -166.16624450683594, 
        10.447373390197754, 
        -166.2313995361328, 
        10.74638557434082, 
        -166.29669189453125, 
        11.045185089111328, 
        -166.362060546875, 
        11.345070838928223, 
        -166.42759704589844, 
        11.64457893371582, 
        -166.4933319091797, 
        11.944454193115234, 
        -166.55918884277344, 
        12.245161056518555, 
        -166.6251220703125, 
        12.544615745544434, 
        -166.6908721923828, 
        12.843528747558594, 
        -166.75698852539062, 
        13.142614364624023, 
        -166.822998046875, 
        13.442239761352539, 
        -166.8894500732422, 
        13.742029190063477, 
        -166.95584106445312, 
        14.041888236999512, 
        -167.02232360839844, 
        14.34237289428711, 
        -167.088623046875, 
        14.640979766845703, 
        -167.15542602539062, 
        14.939714431762695, 
        -167.22230529785156, 
        15.239505767822266, 
        -167.28927612304688, 
        15.538743019104004, 
        -167.3566131591797, 
        15.838384628295898, 
        -167.424072265625, 
        16.138986587524414, 
        -167.49139404296875, 
        16.43808364868164, 
        -167.55877685546875, 
        16.736785888671875, 
        -167.6263885498047, 
        17.035673141479492, 
        -167.69451904296875, 
        17.335390090942383, 
        -167.76242065429688, 
        17.634620666503906, 
        -167.83071899414062, 
        17.934236526489258, 
        -167.8988800048828, 
        18.233755111694336, 
        -167.96751403808594, 
        18.533634185791016, 
        -168.03623962402344, 
        18.83303451538086, 
        -168.1049346923828, 
        19.131351470947266, 
        -168.17373657226562, 
        19.430009841918945, 
        -168.24295043945312, 
        19.729703903198242, 
        -168.3122100830078, 
        20.028772354125977, 
        -168.3822021484375, 
        20.328449249267578, 
        -168.4518585205078, 
        20.628215789794922, 
        -168.5216827392578, 
        20.92635726928711, 
        -168.5914764404297, 
        21.225399017333984, 
        -168.66189575195312, 
        21.524187088012695, 
        -168.73248291015625, 
        21.823484420776367, 
        -168.8032684326172, 
        22.122711181640625, 
        -168.8743896484375, 
        22.4224910736084, 
        -168.9453125, 
        22.721263885498047, 
        -169.01673889160156, 
        23.019229888916016, 
        -169.08822631835938, 
        23.318065643310547, 
        -169.16018676757812, 
        23.617042541503906, 
        -169.23216247558594, 
        23.91587257385254, 
        -169.30470275878906, 
        24.215824127197266, 
        -169.37730407714844, 
        24.514883041381836, 
        -169.449951171875, 
        24.812841415405273, 
        -169.52296447753906, 
        25.11126708984375, 
        -169.59616088867188, 
        25.4097900390625, 
        -169.66958618164062, 
        25.708784103393555, 
        -169.74359130859375, 
        26.00752067565918, 
        -169.8178253173828, 
        26.306955337524414, 
        -169.89212036132812, 
        26.605443954467773, 
        -169.96649169921875, 
        26.9032039642334, 
        -170.04151916503906, 
        27.201541900634766, 
        -170.116455078125, 
        27.50016975402832, 
        -170.1920166015625, 
        27.79849624633789, 
        -170.2680206298828, 
        28.098045349121094, 
        -170.3443145751953, 
        28.396480560302734, 
        -170.42063903808594, 
        28.69411849975586, 
        -170.49737548828125, 
        28.992013931274414, 
        -170.57421875, 
        29.290071487426758, 
        -170.65184020996094, 
        29.588703155517578, 
        -170.7294464111328, 
        29.88713836669922, 
        -170.80763244628906, 
        30.18608856201172, 
        -170.8860626220703, 
        30.4840030670166, 
        -170.96441650390625, 
        30.781166076660156, 
        -171.04371643066406, 
        31.079334259033203, 
        -171.1229248046875, 
        31.37725067138672, 
        -171.20301818847656, 
        31.67540168762207, 
        -171.2834930419922, 
        31.974403381347656, 
        -171.36392211914062, 
        32.27207565307617, 
        -171.4447021484375, 
        32.56910705566406];


	var maxHts=[];
        for (var j = 0; j < (coords.length / 2); j++) {
            maxHts[j] = 500000;
        }

//Image being displayed correctly
 viewer.entities.add({
	                name: 'Image being display correctly',
	                wall: {
	                    positions: Cesium.Cartesian3.fromDegreesArray(coords),
maximumHeights : maxHts,
	                    material: "https://raw.githubusercontent.com/abhishekvp/data-curtains/gh-pages/data/imagery/2015-01-02/test_2_3.png",
	                    outline: true,
	                    outlineWidth: 1.0,
	                    outlineColor: Cesium.Color.BLACK
	                }
	            });
                        /*
//Image being flipped as the longitude crosses 180
  viewer.entities.add({
	                name: 'Image being flipped as the longitude crosses 180',
      wall: {
	                    positions: Cesium.Cartesian3.fromDegreesArray([ -170.59,-18.99, 179.96, -18.99]),
	                    maximumHeights: [500000,500000],
	                    material: "https://raw.githubusercontent.com/abhishekvp/data-curtains/gh-pages/data/imagery/2015-01-02/test_2_3.png",
	                    outline: true,
	                    outlineWidth: 1.0,
	                    outlineColor: Cesium.Color.BLACK
	                }
	            });*/
 viewer.zoomTo(viewer.entities);
  </script>
</body>
</html>

